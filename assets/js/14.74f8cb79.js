(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{432:function(a,t,s){"use strict";s.r(t);var e=s(34),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"部署服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署服务"}},[a._v("#")]),a._v(" 部署服务")]),a._v(" "),s("h2",{attrs:{id:"服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[a._v("#")]),a._v(" 服务端")]),a._v(" "),s("blockquote",[s("p",[a._v("务必：dataServer数据服务节点务必启动6个节点及以上")]),a._v(" "),s("p",[a._v("建议：apiServer接口服务节点建议启动2个节点以上并设置负载均衡")])]),a._v(" "),s("p",[a._v("Git克隆源码")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone\n")])])]),s("p",[a._v("进入项目根目录下，创建初始化脚本和启动项目脚本")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" oss\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("touch")]),a._v(" init.sh\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("touch")]),a._v(" start.sh\n")])])]),s("p",[a._v("init.sh初始化脚本示例如下")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\ngo build -o apiServer apiServer/apiServer.go\ngo build -o dataServer dataServer/dataServer.go\ngo build -o deleteOldMetadata deleteOldMetadata/deleteOldMetadata.go\ngo build -o deleteOrphanObject deleteOrphanObject/deleteOrphanObject.go\ngo build -o objectScanner objectScanner/objectScanner.go\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("killall")]),a._v(" apiServer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("killall")]),a._v(" dataServer\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" apiServer/apiServer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" dataServer/dataServer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" deleteOldMetadata/deleteOldMetadata\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" deleteOrphanObject/deleteOrphanObject\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" objectScanner/objectScanner\n")])])]),s("p",[a._v("启动项目脚本示例如下（因为数据服务最低要求为6个节点，而我这里只在一台机器上运行，所以使用使用1～6数字创建目录）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("seq")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/objects\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/temp\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/garbage\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/objects/*\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/temp/*\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf /tmp/"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("/garbage/*\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.1:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/1 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.2:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/2 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.3:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/3 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.4:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/4 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.5:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/5 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".1.6:12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("STORAGE_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/tmp/6 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/dataServer/dataServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".2.1:12345 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/apiServer/apiServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LISTEN_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.29")]),a._v(".2.2:12345 ./"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("/apiServer/apiServer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("LISTEN_ADDRESS指定服务所在的IP，STORAGE_ROOT指定对象存储的位置，需要提前objects、temp、garbage创建目录")])]),a._v(" "),s("p",[a._v("Nginx "),s("strong",[a._v("负载均衡")]),a._v("示例，值得注意的是，项目中存在HEAD请求，Nginx会将head请求以get请求的方式发送给上游服务器，以下示例前三行解决了这个问题：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("proxy_cache_convert_head off"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nproxy_cache_methods GET HEAD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nproxy_cache_key "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$scheme")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$request_method")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$proxy_host")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$request_uri")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nupstream ossApiServer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" // apiServer接口服务地址\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n\tserver ip:port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tserver ip:port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tserver ip:port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\nserver "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n\tlisten       port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tserver_name  ip:port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n\tlocation / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t\tproxy_pass http://ossApiServer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("如果您追求更加高可用的策略，或可以选择其它，例如 OpenResty+Keepalived")]),a._v(" "),s("h2",{attrs:{id:"客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[a._v("#")]),a._v(" 客户端")]),a._v(" "),s("p",[a._v("Git克隆源码")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone\n")])])]),s("p",[a._v("修改项目根目录下vue.config.js中关于接口地址等信息，如果您在之前设置了负载均衡策略，请将target改为反向代理的地址")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("devServer")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("disableHostCheck")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'域名'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 端口"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("proxy")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v("'/api'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'后端接口Base Url'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("secure")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("changeOrigin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("pathRewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v('"^/api"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("项目根目录下执行，启动项目")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve\n")])])]),s("p",[a._v("打包vue项目")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run build\n")])])]),s("p",[a._v("Nginx跨域配置示例，"),s("code",[a._v("location /apis/ { ... }")]),a._v("为反向代理，将"),s("code",[a._v("ApiServer_URL")]),a._v("替换为接口地址")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("server\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    listen "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    server_name lploss.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    index index.php index.html index.htm default.php default.htm default.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    root /www/wwwroot/lploss.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    \n    try_files "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$uri")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$uri")]),a._v("/ /index.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 反向代理")]),a._v("\n    location /apis/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        proxy_pass ApiServer_URL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("另外上述示例中"),s("code",[a._v("try_files $uri $uri/ /index.html;")]),a._v("一行解决了vue-router中使用history模式导致刷新页面404状态码的问题，如果是您使用Tomact部署，解决此问题请移步："),s("a",{attrs:{href:"https://developer-help.cn/index.php/archives/17/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Vue项目部署服务器后刷新页面报404"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);