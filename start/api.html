<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API接口 | LPL对象存储 帮助文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/x-icon" href="icon.png">
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.5315af93.css" as="style"><link rel="preload" href="/assets/js/app.54596a0a.js" as="script"><link rel="preload" href="/assets/js/2.990d4889.js" as="script"><link rel="preload" href="/assets/js/12.6c4b1cd7.js" as="script"><link rel="prefetch" href="/assets/js/10.f71b8339.js"><link rel="prefetch" href="/assets/js/11.a4ed1356.js"><link rel="prefetch" href="/assets/js/13.87c6cf31.js"><link rel="prefetch" href="/assets/js/14.74f8cb79.js"><link rel="prefetch" href="/assets/js/3.6ab347b3.js"><link rel="prefetch" href="/assets/js/4.f529efd9.js"><link rel="prefetch" href="/assets/js/5.5caf2a12.js"><link rel="prefetch" href="/assets/js/6.d3f5c8bf.js"><link rel="prefetch" href="/assets/js/7.b193cba9.js"><link rel="prefetch" href="/assets/js/8.03b2b970.js"><link rel="prefetch" href="/assets/js/9.cea3a3a0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5315af93.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="LPL对象存储 帮助文档" class="logo"> <span class="site-name can-hide">LPL对象存储 帮助文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/introduce/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/start/" class="nav-link router-link-active">
  快速开始
</a></div><div class="nav-item"><a href="http://lploss.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  控制台首页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="版本号" class="dropdown-title"><span class="title">版本</span> <span class="arrow down"></span></button> <button type="button" aria-label="版本号" class="mobile-dropdown-title"><span class="title">版本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  V1.0
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/introduce/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/start/" class="nav-link router-link-active">
  快速开始
</a></div><div class="nav-item"><a href="http://lploss.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  控制台首页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="版本号" class="dropdown-title"><span class="title">版本</span> <span class="arrow down"></span></button> <button type="button" aria-label="版本号" class="mobile-dropdown-title"><span class="title">版本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  V1.0
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/start/" aria-current="page" class="sidebar-link">前言</a></li><li><a href="/start/preparation.html" class="sidebar-link">准备工作</a></li><li><a href="/start/start.html" class="sidebar-link">部署服务</a></li><li><a href="/start/api.html" aria-current="page" class="active sidebar-link">API接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/start/api.html#_1-心跳检测" class="sidebar-link">1. 心跳检测</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_2-节点的系统信息" class="sidebar-link">2. 节点的系统信息</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_3-获取桶名分页列表" class="sidebar-link">3. 获取桶名分页列表</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_4-查询桶是否存在" class="sidebar-link">4. 查询桶是否存在</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_5-新增桶" class="sidebar-link">5. 新增桶</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_6-删除桶" class="sidebar-link">6. 删除桶</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_7-对象最新版本分页列表" class="sidebar-link">7. 对象最新版本分页列表</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_8-单个对象全部版本列表" class="sidebar-link">8. 单个对象全部版本列表</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_9-普通上传" class="sidebar-link">9. 普通上传</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_10-获得分片上传token" class="sidebar-link">10. 获得分片上传Token</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_11-分片上传" class="sidebar-link">11. 分片上传</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_12-获得分片上传偏移量" class="sidebar-link">12. 获得分片上传偏移量</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_13-下载对象" class="sidebar-link">13. 下载对象</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_14-删除对象" class="sidebar-link">14. 删除对象</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_15-保留版本" class="sidebar-link">15. 保留版本</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_16-删除无引用数据的" class="sidebar-link">16. 删除无引用数据的</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_17-全盘扫描恢复" class="sidebar-link">17. 全盘扫描恢复</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_18-对象存储系统信息" class="sidebar-link">18. 对象存储系统信息</a></li><li class="sidebar-sub-header"><a href="/start/api.html#_19-日志查询" class="sidebar-link">19. 日志查询</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api接口"><a href="#api接口" class="header-anchor">#</a> API接口</h1> <blockquote><p>参考接口参数文档发起HTTP请求，如无特殊声明，接口的输入参数和输出数据编码全部统一为 UTF-8 编码方式</p></blockquote> <h2 id="_1-心跳检测"><a href="#_1-心跳检测" class="header-anchor">#</a> 1. 心跳检测</h2> <ul><li>接口简介：</li></ul> <p>获得所有节点的的IP及心跳检测时间</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/heartbeat</td> <td>GET</td></tr></tbody></table> <ul><li>返回结果参数说明</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;节点IP&quot;</span><span class="token operator">:</span><span class="token string">&quot;心跳检测时间&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;节点IP&quot;</span><span class="token operator">:</span><span class="token string">&quot;心跳检测时间&quot;</span><span class="token punctuation">,</span>
    ...
<span class="token punctuation">}</span>
</code></pre></div><ul><li>成功返回结果示例</li></ul> <p>状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;10.29.1.1:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.823354221+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;10.29.1.2:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.694787184+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;10.29.1.3:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.640107111+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;10.29.1.4:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.743627887+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;10.29.1.5:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.783532068+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;10.29.1.6:12345&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-03T15:55:54.863248773+08:00&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-节点的系统信息"><a href="#_2-节点的系统信息" class="header-anchor">#</a> 2. 节点的系统信息</h2> <ul><li>接口简介：</li></ul> <p>获得某个节点的操作系统信息、CPU、内存、硬盘使用信息</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/nodeSystemInfo/<code>节点 ip</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>节点 ip为必填项</p></blockquote> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;"></th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">cpu</td> <td style="text-align:left;"></td> <td style="text-align:left;">CPU相关信息</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">physicalCnt</td> <td style="text-align:left;">CPU物理核数</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">logicalCnt</td> <td style="text-align:left;">CPU逻辑核数</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">cpuTotalPercent</td> <td style="text-align:left;">1s内负载</td> <td></td></tr> <tr><td style="text-align:left;">mem</td> <td style="text-align:left;"></td> <td style="text-align:left;">内存相关信息</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">total</td> <td style="text-align:left;">内存总大小</td> <td>单位：B</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">available</td> <td style="text-align:left;">可用内存大小</td> <td>单位：B</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">memTotalPercent</td> <td style="text-align:left;">内存使用率</td> <td></td></tr> <tr><td style="text-align:left;">disk</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">path</td> <td style="text-align:left;">分区名</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">total</td> <td style="text-align:left;">分区总大小</td> <td>单位：B</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">used</td> <td style="text-align:left;">分区已使用容量</td> <td>单位：B</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">free</td> <td style="text-align:left;">分区空闲容量</td> <td>单位：B</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">usedPercent</td> <td style="text-align:left;">分区使用百分比</td> <td></td></tr> <tr><td style="text-align:left;">systemInfo</td> <td style="text-align:left;"></td> <td style="text-align:left;">操作系统相关信息</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">kernelVersion</td> <td style="text-align:left;">内核版本</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">platform</td> <td style="text-align:left;">平台</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">osFamily</td> <td style="text-align:left;">操作系统家族</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">osVersion</td> <td style="text-align:left;">操作系统版本</td> <td></td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p>状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;cpu&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;physicalCnt&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token property">&quot;logicalCnt&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cpuTotalPercent&quot;</span><span class="token operator">:</span> <span class="token number">16.87</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mem&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">16651956224</span><span class="token punctuation">,</span>
        <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token number">8689909760</span><span class="token punctuation">,</span>
        <span class="token property">&quot;memTotalPercent&quot;</span><span class="token operator">:</span> <span class="token number">43.87</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;disk&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">73445531648</span><span class="token punctuation">,</span>
        <span class="token property">&quot;used&quot;</span><span class="token operator">:</span> <span class="token number">39056961536</span><span class="token punctuation">,</span>
        <span class="token property">&quot;free&quot;</span><span class="token operator">:</span> <span class="token number">30613696512</span><span class="token punctuation">,</span>
        <span class="token property">&quot;usedPercent&quot;</span><span class="token operator">:</span> <span class="token number">56.06</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;systemInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;kernelVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.10.101-amd64-desktop&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;debian&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;osFamily&quot;</span><span class="token operator">:</span> <span class="token string">&quot;debian&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;osVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.10&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-获取桶名分页列表"><a href="#_3-获取桶名分页列表" class="header-anchor">#</a> 3. 获取桶名分页列表</h2> <ul><li>接口简介：</li></ul> <p>获得所有桶名列表，约定每页显示5条</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/bucket/<code>page</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>page页数为必填项</p></blockquote> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Size</td> <td style="text-align:left;">总条数</td> <td></td></tr> <tr><td style="text-align:left;">Data</td> <td style="text-align:left;">当前页的数据</td> <td></td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p>page=1时，状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ttt&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-查询桶是否存在"><a href="#_4-查询桶是否存在" class="header-anchor">#</a> 4. 查询桶是否存在</h2> <ul><li>接口简介：</li></ul> <p>通过桶名定位桶是否存在</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/bucket/</td> <td>HEAD</td></tr></tbody></table> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>bucket</td> <td>桶名</td> <td>必填</td></tr></tbody></table> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>桶存在</td></tr> <tr><td><code>404</code></td> <td>桶不存在</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_5-新增桶"><a href="#_5-新增桶" class="header-anchor">#</a> 5. 新增桶</h2> <ul><li>接口简介：</li></ul> <p>新增桶</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/bucket/</td> <td>PUT</td></tr></tbody></table> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>bucket</td> <td>桶名</td> <td>必填</td></tr></tbody></table> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>201</code></td> <td>新增桶成功</td></tr> <tr><td><code>400</code></td> <td>请求头不存在</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_6-删除桶"><a href="#_6-删除桶" class="header-anchor">#</a> 6. 删除桶</h2> <ul><li>接口简介：</li></ul> <p>删除桶</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/bucket/</td> <td>DELETE</td></tr></tbody></table> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>bucket</td> <td>桶名</td> <td>必填</td></tr></tbody></table> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>删除桶成功</td></tr> <tr><td><code>400</code></td> <td>请求头不存在</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_7-对象最新版本分页列表"><a href="#_7-对象最新版本分页列表" class="header-anchor">#</a> 7. 对象最新版本分页列表</h2> <ul><li>接口简介：</li></ul> <p>获得所有对象最新版本的分页查询列表，约定每页显示5条</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/allVersions/<code>bucket</code>/<code>name</code>?page=<code>页数</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>bucket为桶名，必填项</p> <p>name为对象名，为选填项，用于搜索</p> <p>页数为必填项</p></blockquote> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;"></th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Size</td> <td style="text-align:left;"></td> <td style="text-align:left;">总条数</td> <td></td></tr> <tr><td style="text-align:left;">Data</td> <td style="text-align:left;"></td> <td style="text-align:left;">当前页的数据</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">Name</td> <td style="text-align:left;">对象名</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">Version</td> <td style="text-align:left;">对象版本</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">Size</td> <td style="text-align:left;">对象该版本大小</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">Hash</td> <td style="text-align:left;">对象该版本的hash值</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">Time</td> <td style="text-align:left;">最后一次操作该对象的时间</td> <td>服务端默认将以此字段将结果倒序排序</td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p><code>name</code>为空，page=2时，状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test2.txt&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NjAzMDNhZTIyYjk5ODg2MWJjZTNiMjhmMzNlZWMxYmU3NThhMjEzYzg2YzkzYzA3NmRiZTlmNTU4YzExYzc1Mg==&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503161720</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test.bat&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NTY4OTZlNzlkMmUxOTJlNDUyOTYzOWMwZmQxOGY0YWVjN2QwYTljOWU4ZjY5MzdjYWMyMGQ0M2MwNzQxYzA1Yw==&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503161720</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100file&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Njk3ODQ2ZTQ5NWVhNmY2ZDk3N2QzOTg4ZTYwYTUyMDk5MTI4NmUxNTg4ZjM5MjVkZTYwMTI0N2E0MDE1ZjEwNg==&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220502185641</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>name</code>为test2，page=1时，状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test2.txt&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NjAzMDNhZTIyYjk5ODg2MWJjZTNiMjhmMzNlZWMxYmU3NThhMjEzYzg2YzkzYzA3NmRiZTlmNTU4YzExYzc1Mg==&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503161720</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-单个对象全部版本列表"><a href="#_8-单个对象全部版本列表" class="header-anchor">#</a> 8. 单个对象全部版本列表</h2> <ul><li>接口简介：</li></ul> <p>默认开启了版本控制，此API用于获取某个对象全部版本</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/versions/<code>bucket</code>/<code>name</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>name为对象名，为必填项</p></blockquote> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Name</td> <td style="text-align:left;">对象名</td> <td></td></tr> <tr><td style="text-align:left;">Version</td> <td style="text-align:left;">对象版本</td> <td></td></tr> <tr><td style="text-align:left;">Size</td> <td style="text-align:left;">对象该版本大小</td> <td></td></tr> <tr><td style="text-align:left;">Hash</td> <td style="text-align:left;">对象该版本的hash值</td> <td></td></tr> <tr><td style="text-align:left;">Time</td> <td style="text-align:left;">最后一次操作该对象的时间</td> <td>服务端默认将以此字段将结果倒序排序</td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p><code>name</code>为test.bat，状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test.bat&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NTY4OTZlNzlkMmUxOTJlNDUyOTYzOWMwZmQxOGY0YWVjN2QwYTljOWU4ZjY5MzdjYWMyMGQ0M2MwNzQxYzA1Yw==&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503162711</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test.bat&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NTY4OTZlNzlkMmUxOTJlNDUyOTYzOWMwZmQxOGY0YWVjN2QwYTljOWU4ZjY5MzdjYWMyMGQ0M2MwNzQxYzA1Yw==&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503162708</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test.bat&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NTY4OTZlNzlkMmUxOTJlNDUyOTYzOWMwZmQxOGY0YWVjN2QwYTljOWU4ZjY5MzdjYWMyMGQ0M2MwNzQxYzA1Yw==&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token number">20220503161720</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="_9-普通上传"><a href="#_9-普通上传" class="header-anchor">#</a> 9. 普通上传</h2> <ul><li>接口简介：</li></ul> <p>上传Size较小的对象文件，如果大文件建议使用专用接口<a href="#_11-%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0"><strong>分片上传</strong></a></p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objects/<code>bucket</code>/<code>name</code></td> <td>PUT</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>name为对象名，为必填项</p></blockquote> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>Digest</td> <td>SHA-256=<code>客户端计算对象的hash值</code></td> <td>必填</td></tr> <tr><td>Content-Type</td> <td>multipart/form-data</td> <td>必填</td></tr> <tr><td>Accept-Encoding</td> <td>gzip</td> <td>非必填，除非您可以在客户端gzip压缩</td></tr></tbody></table> <ul><li>请求体</li></ul> <p>对象文件</p> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>成功</td></tr> <tr><td><code>400</code></td> <td>请求头缺少Digest或路径参数中缺少桶名</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_10-获得分片上传token"><a href="#_10-获得分片上传token" class="header-anchor">#</a> 10. 获得分片上传Token</h2> <ul><li>接口简介：</li></ul> <p>获得分片上传的Token</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objects/<code>bucket</code>/<code>name</code></td> <td>POST</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>name为对象名，为必填项</p></blockquote> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>Digest</td> <td>SHA-256=<code>客户端计算对象的hash值</code></td> <td>必填</td></tr> <tr><td>Content-Type</td> <td>multipart/form-data</td> <td>必填</td></tr> <tr><td>Size</td> <td>对象的大小</td> <td>必填</td></tr></tbody></table> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>201</code></td> <td>token创建成功</td></tr> <tr><td><code>200</code></td> <td>对象存在成功上传记录</td></tr> <tr><td><code>403</code></td> <td>请求头中Size错误</td></tr> <tr><td><code>400</code></td> <td>请求头缺少Digest或路径参数中缺少桶名</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr> <tr><td><code>503</code></td> <td>数据节点不足6个</td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p><code>name</code>为file，<code>bucket</code>为aaa，状态码 <code>201</code></p> <div class="language-tex extra-class"><pre class="language-tex"><code>/temp/aaa/eyJOYW1lIjoiZmlsZSIsIlNpemUiOjEwMDAwMCwiSGFzaCI6IllqTTNabUV4TW1VNVlUVmlORE15WVdGaVpHRXpaREV5WW1WaVlqRTBaalV6Tm1VM1pqTXpNekkyWmpCbVltRmhOemRrWlRBMU9HVmhNVFEwTjJFMVlRPT0iLCJTZXJ2ZXJzIjpbIjEwLjI5LjEuNjoxMjM0NSIsIjEwLjI5LjEuNDoxMjM0NSIsIjEwLjI5LjEuMToxMjM0NSIsIjEwLjI5LjEuMzoxMjM0NSIsIjEwLjI5LjEuMjoxMjM0NSIsIjEwLjI5LjEuNToxMjM0NSJdLCJVdWlkcyI6WyIzODI3ZjJjNi1iMGM5LTRlNjItYTlkYi04NDZlMzZhMzRiZjgiLCIyZTQwNTE0YS0xNDFjLTQxMjItOGI1ZC1mZGVkNmNjYzJhYTciLCI1ZTMyNzlkOS0zM2YzLTQ5ZjItOTY3Yy1iMTEyMGY4ZDc2MTYiLCI2ZjY4MDU4NC04Njk2LTRhMjctYTcxMC0xOTdlNDU5MDUxYzYiLCI2OGVhZDgwMC02YThkLTQxMzAtODJhZS0wNzdmMDA2ZTNjYmYiLCJjOTYzYzQ2NS1jOWNmLTQ3NGEtYWRiOC0xMjc3OWMzMWEyNDYiXX0=
</code></pre></div><h2 id="_11-分片上传"><a href="#_11-分片上传" class="header-anchor">#</a> 11. 分片上传</h2> <ul><li>接口简介：</li></ul> <p>上传Size较大的对象文件，并且约定每次分片数据为5MB，使用前，确保您已经获得了分片上传的Token，否则，请移步<a href="#_10-%E8%8E%B7%E5%BE%97%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0token"><strong>获得分片上传Token</strong></a></p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objects/<code>bucket</code>/<code>Token</code></td> <td>PUT</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>Token为分分片上传的token，为必填项</p></blockquote> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>Content-Type</td> <td>multipart/form-data</td> <td>必填</td></tr> <tr><td>range</td> <td><code>first~last</code></td> <td>必填，除非是第一个分片可以为空，并且最后一个分片只填 <code>first~</code></td></tr></tbody></table> <ul><li>请求体</li></ul> <p>对象分片文件</p> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>成功</td></tr> <tr><td><code>400</code></td> <td>路径参数中缺少桶名</td></tr> <tr><td><code>403</code></td> <td>Token解析失败或分片长度超出对象大小或分片合并时与对象hash计算不一致</td></tr> <tr><td><code>404</code></td> <td>Token失效或不存在</td></tr> <tr><td><code>416</code></td> <td>请求头range错误</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_12-获得分片上传偏移量"><a href="#_12-获得分片上传偏移量" class="header-anchor">#</a> 12. 获得分片上传偏移量</h2> <ul><li>接口简介：</li></ul> <p>获得分片上传已上传的大小，作为下一次分片上传的起点</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td><code>token</code></td> <td>HEAD</td></tr></tbody></table> <blockquote><p>token为<a href="#_10-%E8%8E%B7%E5%BE%97%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0token"><strong>获得分片上传Token</strong></a>中的Token</p></blockquote> <ul><li>返回头参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Content-Length</td> <td style="text-align:left;">已经上传的字节</td> <td></td></tr></tbody></table> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>成功</td></tr> <tr><td><code>404</code></td> <td>Token失效或不存在</td></tr></tbody></table> <ul><li>成功返回头示例</li></ul> <div class="language-tex extra-class"><pre class="language-tex"><code>HTTP/1.1 200 OK
X-Powered-By: Express
content-length: 5242880
date: Tue, 03 May 2022 09:05:04 GMT
connection: close
</code></pre></div><h2 id="_13-下载对象"><a href="#_13-下载对象" class="header-anchor">#</a> 13. 下载对象</h2> <ul><li>接口简介：</li></ul> <p>通过对象名下载对象</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objects/<code>bucket</code>/<code>name</code>?version=<code>版本</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>name为对象名，为必填项</p> <p>版本号为必填项</p></blockquote> <ul><li>请求头</li></ul> <table><thead><tr><th>请求头</th> <th>值</th> <th>规则</th></tr></thead> <tbody><tr><td>Accept-Encoding</td> <td>gzip</td> <td>非必填，除非您需要如果获取压缩对象</td></tr></tbody></table> <ul><li>返回结果</li></ul> <p>对象文件</p> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>成功</td></tr> <tr><td><code>206</code></td> <td>请求已成功处理，但仅返回了部分内容</td></tr> <tr><td><code>400</code></td> <td>路径参数中缺少桶名</td></tr> <tr><td><code>404</code></td> <td>对象未找到或已经损坏</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_14-删除对象"><a href="#_14-删除对象" class="header-anchor">#</a> 14. 删除对象</h2> <ul><li>接口简介：</li></ul> <p>此接口并不会真正删除对象，而是会为对象标记一个删除版本</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objects/<code>bucket</code>/<code>name</code></td> <td>DELETE</td></tr></tbody></table> <blockquote><p>bucket为桶名，为必填项</p> <p>name为对象名，为必填项</p></blockquote> <ul><li>返回状态码</li></ul> <table><thead><tr><th>状态码</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td>成功</td></tr> <tr><td><code>400</code></td> <td>路径参数中缺少桶名</td></tr> <tr><td><code>500</code></td> <td>服务端错误</td></tr></tbody></table> <h2 id="_15-保留版本"><a href="#_15-保留版本" class="header-anchor">#</a> 15. 保留版本</h2> <ul><li>接口简介：</li></ul> <p>对全部对象执行操作：保留几个版本（从最高版本起）</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/deleteOldMetadata/<code>versionSize</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>versionSize为保留版本的数量</p></blockquote> <h2 id="_16-删除无引用数据的"><a href="#_16-删除无引用数据的" class="header-anchor">#</a> 16. 删除无引用数据的</h2> <ul><li>接口简介：</li></ul> <p>删除数据节点中无ES元数据引用的对象</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/deleteOrphanServer</td> <td>GET</td></tr></tbody></table> <h2 id="_17-全盘扫描恢复"><a href="#_17-全盘扫描恢复" class="header-anchor">#</a> 17. 全盘扫描恢复</h2> <ul><li>接口简介：</li></ul> <p>扫描所有节点对象文件，如果如果可以修复的执行修复操作</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/objectScanner</td> <td>GET</td></tr></tbody></table> <h2 id="_18-对象存储系统信息"><a href="#_18-对象存储系统信息" class="header-anchor">#</a> 18. 对象存储系统信息</h2> <ul><li>接口简介：</li></ul> <p>获得对象存储系统的一些信息，存储对象数量、上传请求次数、维护次数、系统手动维护信息：包括维护的操作内容及时间</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/systemInfo/<code>page</code></td> <td>GET</td></tr></tbody></table> <blockquote><p>page为系统手动维护信息分页参数，为实际页数-1</p></blockquote> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;"></th> <th></th> <th></th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Obj</td> <td style="text-align:left;"></td> <td></td> <td></td> <td style="text-align:left;">对象总数量</td> <td></td></tr> <tr><td style="text-align:left;">Put</td> <td style="text-align:left;"></td> <td></td> <td></td> <td style="text-align:left;">上传请求次数</td> <td></td></tr> <tr><td style="text-align:left;">Uphold</td> <td style="text-align:left;"></td> <td></td> <td></td> <td style="text-align:left;">维护次数，Echarts日历热力图数据</td> <td></td></tr> <tr><td style="text-align:left;">Echarts</td> <td style="text-align:left;"></td> <td></td> <td></td> <td style="text-align:left;">每日上传次数</td> <td></td></tr> <tr><td style="text-align:left;">Operation</td> <td style="text-align:left;"></td> <td></td> <td></td> <td style="text-align:left;">维护信息</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">OperationSize</td> <td></td> <td></td> <td style="text-align:left;">总数量</td> <td>按照日期分组</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">OperationData</td> <td></td> <td></td> <td style="text-align:left;">维护操作具体信息</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td>Date</td> <td></td> <td style="text-align:left;">日期</td> <td>服务端默认将以此字段将结果倒序排序</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td>Data</td> <td></td> <td style="text-align:left;"></td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td></td> <td>Operation</td> <td style="text-align:left;">操作内容</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td></td> <td>Time</td> <td style="text-align:left;">时间</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td></td> <td>Date</td> <td style="text-align:left;">日期</td> <td></td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p>状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Obj&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Put&quot;</span><span class="token operator">:</span> <span class="token number">149</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Uphold&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Echarts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;2022-12-25&quot;</span><span class="token operator">:</span> <span class="token number">8300</span><span class="token punctuation">,</span>
        <span class="token property">&quot;2022-12-26&quot;</span><span class="token operator">:</span> <span class="token number">6355</span><span class="token punctuation">,</span>
        <span class="token property">&quot;2022-12-27&quot;</span><span class="token operator">:</span> <span class="token number">1664</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;OperationSize&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;OperationData&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-02&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;进行了保留对象版本操作：保留了全部对象的1个版本&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18:56:58&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-02&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;进行了对象数据全盘扫描修复的操作&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18:57:11&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-02&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;进行了删除无元数据引用的文件的操作&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18:57:20&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-02&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-04-08&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18:43:28&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-04-08&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;Operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18:49:22&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;Date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-04-08&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_19-日志查询"><a href="#_19-日志查询" class="header-anchor">#</a> 19. 日志查询</h2> <ul><li>接口简介：</li></ul> <p>获得系统日志，可进行条件组合查询，默认查询全部，约定每页显示20条</p> <ul><li>URL &amp; Method</li></ul> <table><thead><tr><th>接口地址</th> <th>请求方式</th></tr></thead> <tbody><tr><td>/getLog/<code>page</code></td> <td>POST</td></tr></tbody></table> <blockquote><p>page为页数</p></blockquote> <ul><li>请求体</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;"></th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">osName</td> <td style="text-align:left;"></td> <td style="text-align:left;">日志打印机器ip及name</td> <td>可选</td></tr> <tr><td style="text-align:left;">level</td> <td style="text-align:left;"></td> <td style="text-align:left;">日志级别</td> <td>可选</td></tr> <tr><td style="text-align:left;">content</td> <td style="text-align:left;"></td> <td style="text-align:left;">日志关键词</td> <td>可选</td></tr> <tr><td style="text-align:left;">dateTime</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td> <td>可选</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">from</td> <td style="text-align:left;">日期查询范围起始值</td> <td>时间戳数值型</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">to</td> <td style="text-align:left;">日期查询范围结束值</td> <td>时间戳数值型</td></tr></tbody></table> <ul><li>返回结果参数说明</li></ul> <table><thead><tr><th style="text-align:left;">名称</th> <th style="text-align:left;"></th> <th style="text-align:left;">含义</th> <th>规则说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Size</td> <td style="text-align:left;"></td> <td style="text-align:left;">总条数</td> <td></td></tr> <tr><td style="text-align:left;">Data</td> <td style="text-align:left;"></td> <td style="text-align:left;">当前页的数据</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">osName</td> <td style="text-align:left;">日志打印机器ip及name</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">level</td> <td style="text-align:left;">日志级别</td> <td></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">dateTime</td> <td style="text-align:left;">日志记录时间</td> <td>时间戳，服务端默认将以此字段将结果倒序排序</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">content</td> <td style="text-align:left;">日志内容</td> <td></td></tr></tbody></table> <ul><li>成功返回结果示例</li></ul> <p>查询请求体</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;osName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:12345-lpl-PC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;-1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dateTime&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token number">1652861321</span><span class="token punctuation">,</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token number">1652868530</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>状态码 <code>200</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token property">&quot;osName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:12345-lpl-PC&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;dateTime&quot;</span><span class="token operator">:</span> <span class="token number">1652868481</span><span class="token punctuation">,</span>
		<span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;apiServer.go:47: info myLog -1&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;osName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:12345-lpl-PC&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;dateTime&quot;</span><span class="token operator">:</span> <span class="token number">1652868391</span><span class="token punctuation">,</span>
		<span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;apiServer.go:47: info myLog -1&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/start/start.html" class="prev">
        部署服务
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.54596a0a.js" defer></script><script src="/assets/js/2.990d4889.js" defer></script><script src="/assets/js/12.6c4b1cd7.js" defer></script>
  </body>
</html>
